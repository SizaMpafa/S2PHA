<h1><%= @category.name %></h1>
<% if @items.any? %>
  <h2>Items</h2>
  <ul>
    <% @items.each do |item| %>
      <li>
        <%= link_to item.name, item_path(item) %> - <%= number_to_currency(item.price) %>
        <% if item.item_variants.any? %>
          (<%= item.item_variants.map(&:display_name).join(", ") %>)
        <% end %>
      </li>
    <% end %>
  </ul>
<% else %>
  <p>No items in this category.</p>
<% end %>

<% if @category.subcategories.any? %>
  <h2>Subcategories</h2>
  <ul>
    <% @category.subcategories.each do |subcategory| %>
      <li><%= link_to subcategory.name, category_path(subcategory) %></li>
    <% end %>
  </ul>
<% end %>

<%= link_to "Back to Categories", categories_path %>
<% if current_user&.owner? %>
  <%= link_to "Edit Category", edit_category_path(@category) %>
  <%= link_to "Delete Category", category_path(@category), method: :delete, data: { confirm: "Are you sure?" } %>
<% end %>
